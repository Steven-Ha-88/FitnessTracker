{"ast":null,"code":"var _jsxFileName = \"/Users/ming/Projects/mern/src/components/EditExercise/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getUsers, updateExercise } from \"./../../_actions/index\";\nimport api from \"./../../api\";\nexport const EditExercise = props => {\n  const dispatch = useDispatch();\n  const users = useSelector(state => state.users.users);\n  const {\n    match: {\n      params: {\n        id\n      }\n    }\n  } = props;\n  console.log(\"ID:\", id);\n  const [exercise, setExercise] = useState({\n    username: \"\",\n    description: \"\",\n    duration: Number(),\n    date: new Date()\n  });\n  const {\n    username,\n    description,\n    duration,\n    date\n  } = exercise;\n  useEffect(() => {\n    api.get(\"exercises/\" + id).then(response => {\n      setExercise({\n        username: response.data.username,\n        description: response.data.description,\n        duration: response.data.duration,\n        date: new Date(response.data.date)\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    dispatch(getUsers()); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (exercise.duration === 0) {\n      alert(\"Duration must be higher than 0!\");\n    } else {\n      const exercise_record = {\n        username,\n        description,\n        duration,\n        date\n      };\n      dispatch(updateExercise(id, exercise_record));\n      window.location = \"/\";\n    }\n  };\n\n  console.log(\"exercise:\", exercise);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Edit Exercise Log\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Username: \"), /*#__PURE__*/React.createElement(\"select\", {\n    required: true,\n    className: \"form-control\",\n    value: username,\n    onChange: e => setExercise({ ...exercise,\n      username: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, users.map(function (user) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: user,\n      value: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, user);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Description: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    className: \"form-control\",\n    value: description,\n    onChange: e => setExercise({ ...exercise,\n      description: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, \"Duration (in minutes): \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    value: duration,\n    onChange: e => setExercise({ ...exercise,\n      duration: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"Date: \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    selected: date,\n    onChange: e => setExercise({ ...exercise,\n      date: e\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Create Exercise Log\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }))));\n};","map":{"version":3,"sources":["/Users/ming/Projects/mern/src/components/EditExercise/index.js"],"names":["React","useEffect","useState","useSelector","useDispatch","DatePicker","getUsers","updateExercise","api","EditExercise","props","dispatch","users","state","match","params","id","console","log","exercise","setExercise","username","description","duration","Number","date","Date","get","then","response","data","catch","error","onSubmit","e","preventDefault","alert","exercise_record","window","location","target","value","map","user"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getUsers, updateExercise } from \"./../../_actions/index\";\nimport api from \"./../../api\";\n\nexport const EditExercise = (props) => {\n  const dispatch = useDispatch();\n  const users = useSelector((state) => state.users.users);\n  const {\n    match: {\n      params: { id },\n    },\n  } = props;\n\n  console.log(\"ID:\", id);\n\n  const [exercise, setExercise] = useState({\n    username: \"\",\n    description: \"\",\n    duration: Number(),\n    date: new Date(),\n  });\n\n  const { username, description, duration, date } = exercise;\n\n  useEffect(() => {\n    api\n      .get(\"exercises/\" + id)\n      .then((response) => {\n        setExercise({\n          username: response.data.username,\n          description: response.data.description,\n          duration: response.data.duration,\n          date: new Date(response.data.date),\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    dispatch(getUsers());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (exercise.duration === 0) {\n      alert(\"Duration must be higher than 0!\");\n    } else {\n      const exercise_record = {\n        username,\n        description,\n        duration,\n        date,\n      };\n\n      dispatch(updateExercise(id, exercise_record));\n      window.location = \"/\";\n    }\n  };\n\n  console.log(\"exercise:\", exercise);\n\n  return (\n    <div>\n      <h3>Edit Exercise Log</h3>\n      <form onSubmit={onSubmit}>\n        <div className='form-group'>\n          <label>Username: </label>\n          <select\n            required\n            className='form-control'\n            value={username}\n            onChange={(e) =>\n              setExercise({ ...exercise, username: e.target.value })\n            }>\n            {users.map(function (user) {\n              return (\n                <option key={user} value={user}>\n                  {user}\n                </option>\n              );\n            })}\n          </select>\n        </div>\n        <div className='form-group'>\n          <label>Description: </label>\n          <input\n            type='text'\n            required\n            className='form-control'\n            value={description}\n            onChange={(e) =>\n              setExercise({ ...exercise, description: e.target.value })\n            }\n          />\n        </div>\n        <div className='form-group'>\n          <label>Duration (in minutes): </label>\n          <input\n            type='text'\n            className='form-control'\n            value={duration}\n            onChange={(e) =>\n              setExercise({ ...exercise, duration: e.target.value })\n            }\n          />\n        </div>\n        <div className='form-group'>\n          <label>Date: </label>\n          <div>\n            <DatePicker\n              selected={date}\n              onChange={(e) => setExercise({ ...exercise, date: e })}\n            />\n          </div>\n        </div>\n\n        <div className='form-group'>\n          <input\n            type='submit'\n            value='Create Exercise Log'\n            className='btn btn-primary'\n          />\n        </div>\n      </form>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}