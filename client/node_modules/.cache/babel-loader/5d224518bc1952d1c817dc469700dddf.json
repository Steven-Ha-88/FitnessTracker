{"ast":null,"code":"var _jsxFileName = \"/Users/ming/Projects/mern/src/components/EditExercise/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getUsers, updateExercise } from \"./../../_actions/index\";\nimport { getExercise } from \"../../actions\";\nexport const EditExercise = props => {\n  const dispatch = useDispatch();\n  const users = useSelector(state => state.users.users);\n  const exerciseDetails = useSelector(state => state.exercises.exercise);\n  const {\n    match: {\n      params: {\n        id\n      }\n    }\n  } = props;\n  console.log(\"ID:\", id);\n  const [exercise, setExercise] = useState({\n    username: \"\",\n    description: \"\",\n    duration: 0,\n    date: new Date()\n  });\n  const {\n    username,\n    description,\n    duration,\n    date\n  } = exercise;\n  useEffect(() => {\n    dispatch(getExercise(id));\n    dispatch(getUsers()); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    setExercise({\n      username: exerciseDetails.username,\n      description: exerciseDetails.description,\n      duration: exerciseDetails.duration,\n      date: exerciseDetails.date\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [exerciseDetails]);\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (exercise.duration == 0) {\n      alert(\"Duration must be higher than 0!\");\n    } else {\n      const exercise_record = {\n        username,\n        description,\n        duration,\n        date\n      };\n      dispatch(updateExercise(id, exercise_record));\n      window.location = \"/\";\n    }\n  }; // console.log(\"exercise:\", exercise);\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Edit Exercise Log\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Username: \"), /*#__PURE__*/React.createElement(\"select\", {\n    required: true,\n    className: \"form-control\",\n    value: username,\n    onChange: e => setExercise({ ...exercise,\n      username: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, users.map(user => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: user,\n      value: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, user);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Description: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    className: \"form-control\",\n    value: description,\n    onChange: e => setExercise({ ...exercise,\n      description: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, \"Duration (in minutes): \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    value: duration,\n    onChange: e => setExercise({ ...exercise,\n      duration: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"Date: \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    selected: date,\n    onChange: e => setExercise({ ...exercise,\n      date: e\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Create Exercise Log\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }))));\n};","map":{"version":3,"sources":["/Users/ming/Projects/mern/src/components/EditExercise/index.js"],"names":["React","useEffect","useState","useSelector","useDispatch","DatePicker","getUsers","updateExercise","getExercise","EditExercise","props","dispatch","users","state","exerciseDetails","exercises","exercise","match","params","id","console","log","setExercise","username","description","duration","date","Date","onSubmit","e","preventDefault","alert","exercise_record","window","location","target","value","map","user"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getUsers, updateExercise } from \"./../../_actions/index\";\nimport { getExercise } from \"../../actions\";\n\nexport const EditExercise = (props) => {\n  const dispatch = useDispatch();\n  const users = useSelector((state) => state.users.users);\n  const exerciseDetails = useSelector((state) => state.exercises.exercise);\n\n  const {\n    match: {\n      params: { id },\n    },\n  } = props;\n\n  console.log(\"ID:\", id);\n\n  const [exercise, setExercise] = useState({\n    username: \"\",\n    description: \"\",\n    duration: 0,\n    date: new Date(),\n  });\n\n  const { username, description, duration, date } = exercise;\n\n  useEffect(() => {\n    dispatch(getExercise(id));\n    dispatch(getUsers());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setExercise({\n      username: exerciseDetails.username,\n      description: exerciseDetails.description,\n      duration: exerciseDetails.duration,\n      date: exerciseDetails.date,\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [exerciseDetails]);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (exercise.duration == 0) {\n      alert(\"Duration must be higher than 0!\");\n    } else {\n      const exercise_record = {\n        username,\n        description,\n        duration,\n        date,\n      };\n\n      dispatch(updateExercise(id, exercise_record));\n      window.location = \"/\";\n    }\n  };\n\n  // console.log(\"exercise:\", exercise);\n\n  return (\n    <div>\n      <h3>Edit Exercise Log</h3>\n      <form onSubmit={onSubmit}>\n        <div className='form-group'>\n          <label>Username: </label>\n          <select\n            required\n            className='form-control'\n            value={username}\n            onChange={(e) =>\n              setExercise({ ...exercise, username: e.target.value })\n            }>\n            {users.map((user) => {\n              return (\n                <option key={user} value={user}>\n                  {user}\n                </option>\n              );\n            })}\n          </select>\n        </div>\n        <div className='form-group'>\n          <label>Description: </label>\n          <input\n            type='text'\n            required\n            className='form-control'\n            value={description}\n            onChange={(e) =>\n              setExercise({ ...exercise, description: e.target.value })\n            }\n          />\n        </div>\n        <div className='form-group'>\n          <label>Duration (in minutes): </label>\n          <input\n            type='text'\n            className='form-control'\n            value={duration}\n            onChange={(e) =>\n              setExercise({ ...exercise, duration: e.target.value })\n            }\n          />\n        </div>\n        <div className='form-group'>\n          <label>Date: </label>\n          <div>\n            <DatePicker\n              selected={date}\n              onChange={(e) => setExercise({ ...exercise, date: e })}\n            />\n          </div>\n        </div>\n\n        <div className='form-group'>\n          <input\n            type='submit'\n            value='Create Exercise Log'\n            className='btn btn-primary'\n          />\n        </div>\n      </form>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}